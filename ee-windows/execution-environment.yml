# Generated by ansible-butler
# 05-09-23 12:21
---
version: 3

dependencies:
  galaxy:
    collections:
      - name: amazon.aws
        version: 8.1.0
      - name: ansible.windows
        version: 2.4.0
      - name: ansible.utils
        version: 5.0.0
      - name: community.aws
        version: 8.0.0
      - name: community.windows
        version: 2.2.0
      - name: community.general
        version: 9.1.0
      - name: chocolatey.chocolatey
        version: 1.5.1
      - name: servicenow.itsm
        version: 2.6.1
  python:
    - paramiko
    - pyOpenSSL
    - pypsrp[kerberos,credssp]
    - pywinrm[kerberos,credssp]
    - pexpect>=4.5
    - pyyaml
    - proxmoxer
    - jc
    - jmespath
  system:
    - krb5-libs [platform:rpm]
    - krb5-workstation [platform:rpm]
    - crypto-policies-scripts [platform:rpm]
    - git-core [platform:rpm]

additional_build_files:
  - src: files
    dest: configs

additional_build_steps:
  prepend_final: 
    - COPY _build/configs/krb5.conf /etc/krb5.conf
  append_final:
    - RUN dnf install -y crypto-policies-scripts
    - RUN update-crypto-policies --set DEFAULT:AD-SUPPORT